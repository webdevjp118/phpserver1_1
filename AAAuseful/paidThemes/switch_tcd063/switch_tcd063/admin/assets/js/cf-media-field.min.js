jQuery(document).ready(function(i){if(0<i(".cf_media_field").size()){var d,f,t,l="Select image",c="Use this image",o="Select MP4 file",n="Use this MP4 file";"object"==typeof cfmf_text&&("string"==typeof cfmf_text.title&&(l=cfmf_text.title),"string"==typeof cfmf_text.button&&(c=cfmf_text.button)),"object"==typeof cfmf_video_text&&("string"==typeof cfmf_video_text.title&&(o=cfmf_video_text.title),"string"==typeof cfmf_video_text.button&&(n=cfmf_video_text.button)),i(document).on("click",".cf_media_field .cfmf-select-img",function(e){e.preventDefault(),void 0!==d&&d.close(),(d=wp.media({title:l,library:{type:"image"},button:{text:c},multiple:!1})).on("open",function(){var e=d.state().get("selection"),t=f.find(".cf_media_id").val();t&&e.add(wp.media.attachment(t))}),d.on("select",function(){var e=d.state().get("selection").first();i("#"+t).val(e.attributes.id),f.find(".preview_field").html('<img src="'+e.attributes.url+'" />'),f.find(".cfmf-delete-img").show(),i("body").hasClass("widgets-php")&&f.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1).val(wpWidgets.l10n.save),t=f=null}),f=i(this).closest(".cf_media_field"),t=f.find(".cf_media_id").attr("id"),d.open()}),i(document).on("click",".cf_media_field .cfmf-delete-img",function(e){var t=i(this).closest(".cf_media_field");t.find(".cf_media_id").val(""),t.find(".preview_field").html(""),i("body").hasClass("widgets-php")&&t.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1).val(wpWidgets.l10n.save),i(this).hide()}),i(document).on("click",".cf_media_field .cfmf-select-video",function(e){e.preventDefault(),void 0!==d&&d.close(),(d=wp.media({title:o,library:{type:"video"},button:{text:n},multiple:!1})).on("select",function(){var e=d.state().get("selection").first();i("#"+t).val(e.attributes.id),f.find(".preview_field").html('<p class="uploaded_video_file">'+e.attributes.url+"</p>"),f.find(".cfmf-delete-video").show(),t=f=null}),f=i(this).closest(".cf_media_field"),t=f.find(".cf_media_id").attr("id"),d.open()}),i(document).on("click",".cf_media_field .cfmf-delete-video",function(e){var t=i(this).closest(".cf_media_field");t.find(".cf_media_id").val(""),t.find(".preview_field").html(""),i(this).hide()})}});